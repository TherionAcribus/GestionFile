<div class="container mt-5">
    <h5>Configurer la clé Google Cloud</h5>
    <form id="google-key-form" enctype="multipart/form-data" hx-post="/admin/announce/google/add_key" hx-target="#upload-result" hx-swap="innerHTML">
        <div class="form-group">
            <label for="googleKeyFile">Télécharger le fichier JSON de clés Google Cloud :</label>
            <input type="file" class="form-control-file" id="googleKeyFile" name="google_key_file" accept=".json" required>
        </div>
        <button type="submit" class="btn btn-primary">Enregistrer la clé</button>
    </form>
    <div id="upload-result" class="mt-3"></div>


<h5>Choisir la voix "Google Voice"</h5>

<div class="row">
    <!-- Langue -->
    <div class="col-md-4">
        <label for="voice_google_language">Langue</label>
        <select id="voice_google_language" class="form-select" name="voice_google_language"
                hx-post="/admin/announce/google/filter_voices" 
                hx-target="#voice_google_name" 
                hx-trigger="change, load"
                hx-include="#voice_google_gender, #voice_google_type">
            <option value="">Toutes les langues</option>
            <option value="fr-FR" selected>Français</option>
            <option value="fr-CA">Français du Canada</option>
            <option value="en-US">Anglais</option>
        </select>
    </div>

    <!-- Genre -->
    <div class="col-md-4">
        <label for="voice_google_gender">Genre</label>
        <select id="voice_google_gender" class="form-select" name="voice_google_gender"
                hx-post="/admin/announce/google/filter_voices" 
                hx-target="#voice_google_name" 
                hx-trigger="change"
                hx-include="#voice_google_language, #voice_google_type">
            <option value="">Indifférent</option>
            <option value="MALE">Masculin</option>
            <option value="FEMALE">Féminin</option>
            <option value="NEUTRAL">Neutre</option>
        </select>
    </div>

    <!-- Type de voix -->
    <div class="col-md-4">
        <label for="voice_google_type">Type de voix</label>
        <select id="voice_google_type" class="form-select" name="voice_google_type"
                hx-post="/admin/announce/google/filter_voices" 
                hx-target="#voice_google_name" 
                hx-trigger="change"
                hx-include="#voice_google_language, #voice_google_gender">
            <option value="">Tous les types</option>
            <option value="Wavenet">Wavenet</option>
            <option value="Standard">Standard</option>
        </select>
    </div>
</div>

<!-- Liste des voix disponibles -->
<div class="input-field col s12">
    <label for="voice_google_name">Nom de la voix</label>
    <select id="voice_google_name" class="form-select" name="voice_google_name">            
        <!-- Les options de voix seront ajoutées dynamiquement ici -->
    </select>
</div>

<!-- Bouton de sauvegarde -->
<div class="mt-3">
    <button class="btn btn-primary" id="save-voice-btn" 
            hx-post="/admin/announce/google/save_voice" 
            hx-include="#voice_google_name" 
            hx-target="#voice-save-result">
        Sauvegarder la voix sélectionnée
    </button>
</div>

<!-- Section pour afficher les résultats de la sauvegarde -->
<div id="voice-save-result" class="mt-3"></div>