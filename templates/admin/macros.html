{% macro button(key, check) %}
<button
    class="btn"
    hx-post="/admin/update_input"
    hx-target="#invisible"
    hx-vals='js:{"key": "{{ key }}", 
            "value": document.getElementById("{{ key }}").value,
            "check": "{{ check }}"}''>
    Enregistrer</button>
{% endmacro %}

{% macro balises_before_call(key) %}
<div>
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{P}')">{P}</span>
    pour le nom de la pharmacie,  
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{N}')">{N}</span>
    pour le numéro du patient, 
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{A}')">{A}</span>
    pour l'activité, 
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{D}')">{D}</span>
    pour la date,
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{H}')">{H}</span>
    pour l'heure.
</div>
{% endmacro %}

{% macro balises_for_printer(key) %}
<div>
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '[center][/center]')">Centrer</span>,
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '[double][/double]')">Double taille</span>,
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '**Texte en gras**')">Gras</span>,
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '__Texte souligné__')">Souligné</span>,
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '[separator]')">Séparateur</span>
</div>
{% endmacro %}

{% macro balises_after_call(key) %}
<div>
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{P}')">{P}</span>
    pour le nom de la pharmacie,  
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{N}')">{N}</span>
    pour le numéro du patient, 
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{A}')">{M}</span>
    pour le membre de l'équipe, 
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{C}')">{C}</span>
    pour le comptoir,
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{D}')">{D}</span>
    pour la date,
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{H}')">{H}</span>
    pour l'heure.
</div>
{% endmacro %}


{% macro balises_welcome(key) %}
<div>
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{P}')">{P}</span>
    pour le nom de la pharmacie, 
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{D}')">{D}</span>
    pour la date,
    <span class="variables_calling" onclick="insertPlaceholder('{{ key }}', '{H}')">{H}</span>
    pour l'heure.
</div>
{% endmacro %}


{% macro textarea(key, value, label) %}
<div class="input-field col s12">
    <textarea id="{{ key }}" class="materialize-textarea">{{ value }}</textarea>
    <label for="{{ key }}">{{label}}</label>
</div>
{% endmacro %}


{% macro textbloc_before_call(key, value, label) %}
<div class="row">
    <div class="row">
        {{ textarea(key, value, label) }}
        {{ balises_before_call(key) }}
    </div>
    {{ button(key, "before_call") }}
</div>
{% endmacro %}


{% macro textbloc_for_printer(key, value, label) %}
<div class="row">
    <div class="row">
        {{ textarea(key, value, label) }}
        {{ balises_before_call(key) }}
        {{ balises_for_printer(key) }}
    </div>
    {{ button(key, "before_call") }}
</div>
{% endmacro %}


{% macro textbloc_after_call(key, value, label) %}
<div class="row">
    <div class="row">
        {{ textarea(key, value, label) }}
        {{ balises_after_call(key) }}
    </div>
    {{ button(key, "after_call") }}
</div>
{% endmacro %}

{% macro textbloc_welcome(key, value, label) %}
<div class="row">
    <div class="row">
        {{ textarea(key, value, label) }}
        {{ balises_welcome(key) }}
    </div>
    {{ button(key, "welcome") }}
</div>
{% endmacro %}


{% macro textarea_full(key, value, label) %}
<div class="row">
    <div class="row">
        {{ textarea(key, value, label) }}
    </div>
    {{ button(key) }}
</div>
{% endmacro %}

{% macro switch(key, check, label, label_false, label_true) %}
<div class="switch">
    <span>{{label}} </span>
    <label>
    {{label_false}}
    <input id="{{key}}" 
            type="checkbox"
            {% if check == True %}checked{% endif %}
            hx-post="/admin/update_switch"
            hx-target="#invisible"
            hx-vals='js:{"key": "{{key}}",
                        "value": document.getElementById("{{key}}").checked}'>
    <span class="lever"></span>
    {{label_true}}
    </label>
</div>
{% endmacro %}
