<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    {% block title %}
    <!-- Titre -->
    {% endblock %}
    <!-- WebSocket -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/socket.io/4.0.0/socket.io.js"></script>
    <!-- HTMX -->
    <script src="https://unpkg.com/htmx.org"></script>
    <script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/ws.js"></script>
    <!-- Materialize -->
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">-->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>-->
    <!-- Sortable -->
    <!-- BoostStrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    {% if session["admin_colors"] %}
        <link rel="stylesheet" href="../static/css/themes/{{ session['admin_colors'] }}.css">
    {% endif %}
    <!-- Sortable -->
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <!-- CSS de la page -->
    <link rel="stylesheet" href="../static/css/admin.css">
    <!-- Select2 -->
    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />
    <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"></script>

</head>

<body>
    {% import '/admin/macros.html' as macros %}
    
    <div class="container-fluid">
        <div class="row">
            <!-- Sidebar structure -->
            <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/admin">
                                <i class="bi bi-house"></i>
                                Accueil
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/logout">
                                <i class="bi bi-box-arrow-right"></i>
                                Se déconnecter
                            </a>
                        </li>
                        <li class="nav-item">
                            <hr class="dropdown-divider">
                        </li>
                        <li class="nav-item">
                            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                                <span>Suivi</span>
                            </h6>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/queue">
                                <i class="bi bi-people"></i>
                                Patients
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/info">
                                <i class="bi bi-image"></i>
                                Galerie
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/music">
                                <i class="bi bi-music-note"></i>
                                Musique
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/algo">
                                <i class="bi bi-graph-up"></i>
                                Priorités
                            </a>
                        </li>
                        <li class="nav-item">
                            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                                <span>Gestion de l'application</span>
                            </h6>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/app">
                                <i class="bi bi-app-indicator"></i>
                                Application
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/database">
                                <i class="bi bi-server"></i>
                                Base de données
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/patient">
                                <i class="bi bi-person-circle"></i>
                                Page patient
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/announce">
                                <i class="bi bi-megaphone"></i>
                                Page Annonce
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/phone">
                                <i class="bi bi-telephone"></i>
                                Page Téléphone
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/security">
                                <i class="bi bi-shield-lock"></i>
                                Sécurité
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/admin_options">
                                <i class="bi bi-shield-lock"></i>
                                Admin
                            </a>
                        </li>
                        <li class="nav-item">
                            <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
                                <span>Gestion de la pharmacie</span>
                            </h6>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/staff">
                                <i class="bi bi-people-fill"></i>
                                Équipe
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/counter">
                                <i class="bi bi-shop"></i>
                                Comptoirs
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/admin/activity">
                                <i class="bi bi-bar-chart-line"></i>
                                Activités
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>
        
            <!-- Main content area -->
            <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
                {% block content %}
                <!-- Content specific to each page -->
                {% endblock %}
            </main>
        </div>
    </div>

    {{ macros.modal_delete() }}

    <!-- Voie de garage pour les retours htmx qui ne doivent pas être affichés-->
    <div id="invisible" style="display:none;"></div>


    <!-- Bootstrap JS (ensure this is after the closing </body> tag to avoid any rendering issues) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
    <script src="{{ url_for('static', filename='js/admin.js') }}"></script>
</body>
</html>