{% if page_patient_structure == "full" %}
    {% if buttons|length > 4 %}
        {% set half_length = (buttons|length // 2) + (buttons|length % 2) %}
        <div class="outer-grid-container">
            <div class="inner-grid-container" style="grid-template-columns: repeat({{ half_length }}, 1fr);">
                {% for button in buttons[:half_length] %}
                    {% include "patient/one_button.html"%}
                {% endfor %}
            </div>
            <div class="inner-grid-container" style="grid-template-columns: repeat({{ buttons|length - half_length }}, 1fr);">
                {% for button in buttons[half_length:] %}
                    {% include "patient/one_button.html"%}
                {% endfor %}
            </div>
        </div>
    {% else %}
        <div class="outer-grid-container">
            <div class="inner-grid-container" style="grid-template-columns: repeat({{ buttons|length }}, 1fr);">
                {% for button in buttons %}
                    {% include "patient/one_button.html"%}
                {% endfor %}
            </div>
        </div>
    {% endif %}
{% else %}
    {% for button in buttons %}
        {% include "patient/one_button.html"%}
    {% endfor %}
{% endif %}